#{extends 'client.html' /}
#{set title:'提醒' /}
<link rel="stylesheet" href="@{'/public/stylesheets/client/psnCenter.css'}">
<script type="text/javascript" src = "@{'/public/javascripts/jquery-1.8.3.min.js'}"></script>
<header class="mui-bar mui-bar-nav headTitle">
  <a class="mui-icon mui-icon-left-nav mui-pull-left" href="/client/psnCenter"></a>
  <h1 class="mui-title">提醒</h1>
</header>

<ul class="mui-table-view navList remindList">
  <li id="remindItem_phy" class="mui-table-view-cell">
  <!-- <a class="mui-navigate-right"> -->
    <div class="listItemIcon">
      <i class="icon-remindItem iconfont">&#xe7af;</i>
    </div>
   <!--  <a href="" class="mui-navigate-right"></a> -->
   生理记录提醒
   <div id="remindDate_phy" class="remindDate">提前7天</div>
    <div class="mui-switch mui-switch-mini mui-active">
      <div class="mui-switch-handle"></div>
    </div>
    <!-- </a> -->
  </li>
  <li id="remindItem_med" class="mui-table-view-cell">
  <!-- <a class="mui-navigate-right"> -->
    <div class="listItemIcon">
      <i class="icon-remindItem iconfont">&#xe679;</i>
    </div>
    药品到期提醒
    <div id="remindDate_med" class="remindDate">提前7天</div>
    <div class="mui-switch mui-switch-mini mui-active">
      <div class="mui-switch-handle"></div>
    </div>
    <!-- </a> -->
  </li>
  <li id="remindItem_vac" class="mui-table-view-cell">
  <!-- <a class="mui-navigate-right"> -->
    <div class="listItemIcon">
      <i class="icon-remindItem iconfont">&#xe611;</i>
    </div>
    疫苗接种提醒
    <div id="remindDate_vac" class="remindDate">提前7天</div>
    <div class="mui-switch mui-switch-mini mui-active">
      <div class="mui-switch-handle"></div>
    </div>
    <!-- </a> -->
  </li>
</ul>

<!-- 修改提醒时间 -->
<div class="mui-popover scrollerBox modifyRemindDate">
  <header class="mui-bar mui-bar-nav model-header">
    <h1 class="mui-title model-title">设置提醒时间</h1>
  </header>
  <div class="remindPreview">
  提前&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;天&nbsp;&nbsp;&nbsp;
    <div class="stressDate">7</div>
  </div>
  <input id="scroller_remind" name="scroller"/>
  <div class="mui-content-padded indexInputBox">
    <form class="mui-input-group">
      <div class="mui-button-row">
        <button id="remind-confirm-btn" class="mui-btn mui-btn-primary confirm-btn" onclick="return false;">确认</button>&nbsp;&nbsp;
        <button id="remind-cancel-btn" class="mui-btn mui-btn-primary cancel-btn" onclick="return false;">取消</button>
      </div>
    </form>
  </div>
  
</div><!-- 修改提醒时间结束 -->

<link href="@{'/public/stylesheets/client/mobiscroll/mobiscroll.animation.css'}" rel="stylesheet" type="text/css" />
<link href="@{'/public/stylesheets/client/mobiscroll/mobiscroll.frame.css'}" rel="stylesheet" type="text/css" />
<link href="@{'/public/stylesheets/client/mobiscroll/mobiscroll.scroller.css'}" rel="stylesheet" type="text/css" />
<!-- <link rel="stylesheet" href="@{'/public/stylesheets/client/growthDetail.css'}"/> -->
<script src="http://dcloudio.github.io/mui/dist/js/jquery-2.1.1.js"></script>
<script src="@{'/public/javascripts/client/mobiscroll/mobiscroll.core.js'}"></script>
<script src="@{'/public/javascripts/client/mobiscroll/mobiscroll.frame.js'}"></script>
<script src="@{'/public/javascripts/client/mobiscroll/mobiscroll.scroller.js'}"></script>
<script>
  var setItem = 0;//0代表生理记录提醒，1代表药品到期提醒，2代表疫苗接种提醒
  $(function(){
      /*点击生理记录提醒*/
      document.getElementById("remindItem_phy").addEventListener("tap",function(event){
          showRemindBox("生理记录提醒");
          setItem = 0;
      });

      /*点击药品到期提醒*/
      document.getElementById("remindItem_med").addEventListener("tap",function(event){
          showRemindBox("药品到期提醒");
          setItem = 1;
      });

      /*点击疫苗接种提醒*/
      document.getElementById("remindItem_vac").addEventListener("tap",function(event){
          showRemindBox("疫苗接种提醒");
          setItem = 2;
      });

      /*点击取消设置提醒时间*/
      document.getElementById("remind-cancel-btn").addEventListener("tap",function(event){
          mui('.modifyRemindDate').popover('toggle');
      });

      /*点击确定设置提醒时间*/
      document.getElementById("remind-confirm-btn").addEventListener("tap",function(event){
          switch(setItem){
            case 0:alert("修改的是生理记录提醒");break;
            case 1:alert("修改的是药品到期提醒");break;
            case 2:alert("修改的是疫苗接种提醒");break;
            default:break;
          }
      });

     /*科目选择滚轮*/
      $('#scroller_remind').mobiscroll().scroller({
          theme: 'mobiscroll',
          lang: 'zh',
          display: 'inline',
          rows:3,
          layout:'liquid',
          height:40,
          wheels: [[
                  
                  {
                      values: ["1","2","3","4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14"]
                  }
              ]],
          onChange:function(valueText,inst){
                        $(".stressDate").text(valueText);
                        }
      });
 });//结束$(funciton)

  function showRemindBox(title){
      $(".model-title").text(title);
      $(".stressDate").text("7");
      mui('.modifyRemindDate').popover('toggle');
      $('#scroller_remind').mobiscroll('setVal', 7, true, true, false, 0);
  }
</script>

